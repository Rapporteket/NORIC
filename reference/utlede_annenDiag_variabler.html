<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>New variables from NORIC's AnnenDiag-table — utlede_annenDiag_variabler • noric</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="New variables from NORIC's AnnenDiag-table — utlede_annenDiag_variabler"><meta property="og:description" content="Functions for creating variables based on NORIC's AnnenDiag-table and
for merging these variables into NORIC's AngioPCIVar-table by key
variables ForlopsID and AvdRESH."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">noric</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.15.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>New variables from NORIC's AnnenDiag-table</h1>
    
    <div class="hidden name"><code>utlede_annenDiag_variabler.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functions for creating variables based on NORIC's <em>AnnenDiag</em>-table and
for merging these variables into NORIC's <em>AngioPCIVar</em>-table by key
variables <code>ForlopsID</code> and <code>AvdRESH</code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">utlede_kar_annen_diag</span><span class="op">(</span><span class="va">df_ad</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">legg_til_trykk_bilde_per_kar</span><span class="op">(</span><span class="va">df_ap</span>, <span class="va">df_ad</span>, metodeType <span class="op">=</span> <span class="st">"FFR"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">legg_til_trykkmaalinger</span><span class="op">(</span><span class="va">df_ap</span>, <span class="va">df_ad</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>df_ad</dt>
<dd><p>NORIC's <em>AnnenDiag</em>-table, must contain variables
<code>ForlopsID</code>, <code>AVdRESH</code>, <code>segment</code>, <code>graft</code> and
<code>metode</code></p></dd>


<dt>df_ap</dt>
<dd><p>NORIC's <em>AngioPCIVar</em>-table, must contain variables
<code>ForlopsID</code> and <code>AVdRESH</code></p></dd>


<dt>metodeType</dt>
<dd><p>value of variable <code>metode</code> from NORIC-table
<em>AnnenDiag</em>. Must have one of following values : "FFR", "iFR", "IVUS"
or "OCT"</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The function <code>utlede_kar_annen_diag()</code> groups the
<code>segments</code> in <code>df_ad</code> into coronary arteries in the new variable
<code>kar</code>, then <code>df_ad</code> is returned from the function.</p>
<p>The function <code>legg_til_trykk_bilde_per_kar()</code> uses the data in
<code>df_ad</code> to calculate 5 new variables, where variable names prefix is
type of method (one of: "FFR", "iFR", "IVUS" or "OCT") and suffix is each
level of <code>kar</code> (p.ex. if metode is 'FFR' then variables are
 <code>FFR_LAD</code>, <code>FFR_RCA</code>, <code>FFR_CX</code> and <code>FFR_Graft</code>).
The variable says whether or not a measure of this method
is performed in each <code>kar</code>. If at least one measure is done in a
<code>kar</code> the value of the corresponding variable is given the value
<em>ja</em>, otherwise the value is <em>nei</em>. These 5 variables are then
merged into <code>df_ap</code>, before <code>df_ap</code> is returned from the function.
For procedures where no measures are done on segment-level (e.g. no entries
available in <code>df_ad</code>), the values for the 5 new variables are &lt;NA&gt;.</p>
<p>The function <code>legg_til_trykkmaalinger()</code> adds variables <code>PdPa</code>,
<code>IMR</code>, <code>Pa</code> and <code>Pd</code> to <code>df_ap</code>-table. Values of these 4
new variables (measures of pressure) depends on the <code>df_ad</code>-table:
value "Ja" is attributed if the method is registered for the procedure,
value "Nei" is attributed if no if this method not is performed.
For procedures where no measures are done on segment-level (e.g. no entries
available in <code>df_ad</code>), the values for the 4 new variables are &lt;NA&gt;.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">df_ad</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   ForlopsID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   AvdRESH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   segment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PDA/RPD (4)"</span>,</span></span>
<span class="r-in"><span>               <span class="st">"PLA (18)"</span>,</span></span>
<span class="r-in"><span>               <span class="st">"Midtre LAD (7)"</span>,</span></span>
<span class="r-in"><span>               <span class="st">"Ve hovedstamme (5)"</span>,</span></span>
<span class="r-in"><span>               <span class="st">"Ve hovedstamme (5)"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   graft <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Nei"</span>,</span></span>
<span class="r-in"><span>             <span class="st">"Arteriell"</span>,</span></span>
<span class="r-in"><span>             <span class="st">"Vene"</span>,</span></span>
<span class="r-in"><span>             <span class="st">"Nei"</span>,</span></span>
<span class="r-in"><span>             <span class="st">"Nei"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   metode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"FFR"</span>, <span class="st">"FFR"</span>, <span class="cn">NA</span>, <span class="st">"test"</span>, <span class="st">"FFR"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df_ap</span> <span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>   ForlopsID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   AvdRESH <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">utlede_kar_annen_diag</span><span class="op">(</span><span class="va">df_ad</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ForlopsID AvdRESH            segment     graft metode   kar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         1       1        PDA/RPD (4)       Nei    FFR   RCA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         1       1           PLA (18) Arteriell    FFR   RCA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         3       1     Midtre LAD (7)      Vene   &lt;NA&gt; Graft</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         3       1 Ve hovedstamme (5)       Nei   test   LMS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         5       1 Ve hovedstamme (5)       Nei    FFR   LMS</span>
<span class="r-in"><span><span class="fu">legg_til_trykk_bilde_per_kar</span><span class="op">(</span>df_ap <span class="op">=</span> <span class="va">df_ap</span>,</span></span>
<span class="r-in"><span>                             df_ad <span class="op">=</span> <span class="va">df_ad</span>,</span></span>
<span class="r-in"><span>                             metodeType <span class="op">=</span> <span class="st">"FFR"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ForlopsID AvdRESH FFR_LMS FFR_LAD FFR_RCA FFR_CX FFR_Graft</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1         1       1     nei     nei      ja    nei       nei</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2         2       1    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;      &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         3       1     nei     nei     nei    nei       nei</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4         4       1    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;   &lt;NA&gt;      &lt;NA&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5         5       1      ja     nei     nei    nei       nei</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kristina Skaare, Mary Autenried, Are Edvardsen.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

