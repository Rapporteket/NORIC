% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utlede_segmentStent_variabler.R
\name{legg_til_pci_per_kar}
\alias{legg_til_pci_per_kar}
\title{Add PCI variables per level of kar_graft in AP-data}
\usage{
legg_til_pci_per_kar(df_ap, df_ss)
}
\arguments{
\item{df_ap}{AP data where new variables should be added}

\item{df_ss}{SS-data used to calculate 10 new variables}
}
\value{
`df_ap` with 10 new columns.
}
\description{
Add 10 new variables, all prefixed by "PCI_" and suffixed by level of
`kar_graft` (e.g. PCI_LAD, PCI_CX, PCI_CX_veneGraft, PCI_CX_arterieGraft).
Counts number of rows in Segment-stent data per procedure and per
level of `kar_graft`, removing "wireforsøk". If n=0 (only wireforsøk) all
10 new variables are given value "nei". If n>1 for one or more levels for
`kar_graft` these variables are given value "ja", remaining variables are
given value "nei". In procedures with zero rows in stent-data, all new
variables are given value `NA`.
}
\examples{
  ap <- data.frame(ForlopsID = 1:5,
                   AvdRESH = rep(1,5))

  ss <- data.frame(ForlopsID = c(1,2,3,3,3),
                   AvdRESH = rep(1,5),
                   Segment = c(1,5,10,12,13),
                   Graft = c(rep("Nei", 3),
                             rep("Arteriell", 1),
                             rep("Vene", 1)),
                   ProsedyreType = c("Ballong + Stent",
                                     "WireforsÃ¸k",
                                     "Rotablator",
                                     "WireforsÃ¸k",
                                     "Direktestent"))
  ap \%>\% legg_til_pci_per_kar(., df_ss = ss)
}
